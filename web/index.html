<!doctype html>
<html lang="de">

  <head>
    <meta charset="utf-8">

  	<title>VirtualHelm</title>
	<meta name="description" content="Web UI">
  	<meta name="author" content="Michael Kappert">

  	<link rel="stylesheet" href="css/style.css?v=1.0">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCP2gFKu91VHqqPiNKnhXKZNSInqcMrFXQ"></script>

    <script src="js/colors.js"></script>
    <script src="js/script.js"></script>
	<script>
	  $( document ).ready( setUp );
	</script>
	
  </head>

  <body>

    <div class="row" style="color: #ffffff; background-color:#505056">
      <div class="col-2" style="font-size: 120%">VirtualHelm</div>
      <div class="col-7"></div>
      <div class="col-3" style="font-size: 70%">
		<p>Datenbasis: <label id="lb_data_source"></label></p> 
        <p style="font-size: 90%"><label id="lb_data_spec"></label></p>
      </div>
    </div>

	<div class="row">
	  <div class="col-4">
		<div class="cell">
		  <label style="font-weight:bold">Forecast data</label>
		  <select id="sel_forecastbundle" name="forecastbundle">
			<option value="DWD-ICON-BUNDLE">DWD GDS ICON 0.25</option>
			<option value="NOAA-BUNDLE" selected>NOAA GFS 1.00</option>
		  </select>
		  <label></label>
		  <label id="lb_fcmax">---</label>
		</div>
        <div class="cell">
		  <label>Forecast time</label>
          <nobr><b>
			  <label id="lb_index" style="font-size: 80%"></label>
		  </b></nobr>
        </div>
        <div class="cell">
		  <label></label>
          <button id="bt_dec6" type="button">-6</button>
          <button id="bt_dec" type="button">-1</button>
          <input id="ir_index" type="range" min="0" max="240" step="1" value="0"/>
          <button id="bt_inc" type="button">+1</button>
          <button id="bt_inc6" type="button">+6</button>
        </div>
		<div class="cell">
		  <label style="font-weight:bold">Start</label>
		</div>
		<div class="cell">
		  <label>Delayed:</label>
		  <input id="cb_startdelayed" name="startdelayed" type="checkbox"/>
		  <input id="tb_starttime" name="starttime" type="datetime-local"/>
		  <select id="sel_starttimezone" name="starttimezone">
			<option value="+00:00">UTC</option>
			<option value="+01:00">MET</option>
			<option value="+02:00">MEST</option>
		  </select>											
		 </div>
		<div class="cell">
		  <label>Latitude:</label>
		  <select id="sel_latsign" name="latsign">
			<option value="N">N</option>
			<option value="S">S</option>
	      </select>	
		  <input id="tb_dstartlat" type="text" maxlength="3" style="width:3em"/>°
		  <input id="tb_mstartlat" type="text" maxlength="2" style="width:2em"/>'
		  <input id="tb_sstartlat" type="text" maxlength="2" style="width:2em"/>&quot 
		</div>
 		<div class="cell">
		  <label>Longitude:</label>
		  <select id="sel_lngsign" name="lngsign">
			<option value="E">E</option>
			<option value="W">W</option>
	      </select>	
		  <input id="tb_dstartlng" type="text" maxlength="3" style="width:3em"/>°
		  <input id="tb_mstartlng" type="text" maxlength="2" style="width:2em"/>'
		  <input id="tb_sstartlng" type="text" maxlength="2" style="width:2em"/>&quot
		  <button id="bt_setstartpos" style="text-align:center;">Set position</button>
		</div>
		<div class="cell"><label style="font-weight:bold">Settings</label></div>
		<div class="cell">
		  <label>Duration</label>
		  <select id="sel_duration" name="duration">
			<option value="6">6 hours</option>
			<option value="12">12 hours</option>
			<option value="24" selected>24 hours</option>
			<option value="36">36 hours</option>
			<option value="48">2 days</option>
			<option value="96">4 days</option>
			<option value="144">6 days</option>
			<option value="192">8 days</option>
			<option value="240">10 days</option>
			<option value="288">12 days</option>
			<option value="336">14 days</option>
			<option value="384">16 days</option>
		  </select>
		</div>
		<div class="cell">
		  <label>Polars</label>
		  <select id="sel_polars" name="polars">
			<option value="vo65">Volvo Ocean 65 - 2017</option>
			<option value="clipper_70_v2">Clipper - 2017</option>
			<option value="MINITRANSAT17">Mini Transat 2017</option>
		  </select>
		</div>
		<div class="cell">
		  <label>Search width</label>
		  <select id="sel_searchangle" name="searchangle">
			<option value="45">90°</option>
			<option value="60">120°</option>
			<option value="75" selected>150°</option>
			<option value="85">170°</option>
			<option value="90">180°</option>
		  </select>
		</div>
		<div class="cell">
		  <label>Angle increment</label>
		  <select id="sel_angleincrement" name="angleincrement">
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4" selected>4</option>
			<option value="5">5</option>
		  </select>
		</div>
		<div class="cell">
		  <label>Points per isochrone</label>
		  <select id="sel_pointsperisochrone"  name="pointsperisochrone">
			<option value="100" selected>100</option>
			<option value="150">150</option>
			<option value="200">200</option>
			<option value="300">300</option>
			<option value="400">400</option>
		  </select>
		</div>
		<div class="cell">
		  <label>With foils</label><input id="cb_usefoils" name="foils" type="checkbox" checked="true">
		</div>
		<div class="cell">
		  <label>With polish</label><input id="cb_usepolish" name="polish" type="checkbox" checked="true">
		</div>
		<div class="cell">
		  <label>Fast manoeuvres</label><input id="cb_fastmanoeuvres" name="fastmanoeuvres" type="checkbox" checked="true">
		</div>
		<div class="cell">
		  <label>Min 4kts wind</label><input id="cb_minwind" name="minwind" type="checkbox" checked="true">
		</div>
		<div class="cell">
		  <button id="bt_getroute" style="width:300px; text-align:center; font-size:100%; font-weight:bold;" onclick="getRoute();">Calculate route</button>
		</div>
		<div class="cell">
		  <progress id="pg_getroute" style="width:300px" max="300" value="0"><progress>
		</div>
		<div class="cell" style="align-self:bottom">
		  <label>Position</label>
		  <nobr>
		  <label id="lb_position" style="font-size:90%">-.-.-.-</label>
		  </nobr>	
		</div>
		<div class="cell" style="align-self:bottom">
		  <label>Wind</label>
		  <label id="lb_windatposition" style="font-size:90%">-.-.-.-</label>
		</div>
		<div class="cell" style="align-self:bottom">
		  <label>TWA</label>
		  <nobr><label id="lb_twa" style="font-size:90%">&lt;Click on route marker&gt;</label></nobr>
		</div>
		<div class="cell" style="align-self:bottom">
		  <label>Heading</label>
		  <nobr><label id="lb_twa_heading" style="font-size:90%">-.-.-.-</label></nobr>
		</div>
		<div class="cell">
		  <input id="tb_pageURL" type="text"></input>
		  <button id="bt_geturl" onclick="copyURL()">Get URL</button>
		</div>
		<div class="cell" style="align-self:top">
		  <label>Statistics</label>
		</div>
		<div class="cell" style="align-self:top">
		  <label id="lb_stats" style="font-size:75%">-.-.-.-</label>
		</div>
      </div>
      <div class="col-8" style="height:820px;">
        <div id="googleMap" style="position:absolute; width:1104px; height:804px; border:solid 2px black; border-radius:4px;">
		</div>
		<div id="player_area" style="position:absolute; width:1104px; height:804px;  border: 2px solid #505056; background:none; pointer-events:none; ">
		  <canvas id="map_canvas" style="background:none;pointer-events:none; border: 0px solid green; " width="1100px" height="800px"></canvas>
		</div>
		<div id="mapMenu" style="position:absolute; border: 4px solid #505056; border-radius:2px; background:#505056; width:140px; height:90px; display:none;">
		  <button id="bt_setstart" style="width:130px; text-align:left;" onclick="setRoute('start');">Set Start</button>
		  <button id="bt_setdest"  style="width:130px; text-align:left;" onclick="setRoute('dest');">Set Destination</button>
		  <button id="bt_ltpmark"  style="width:130px; text-align:left;" onclick="setRoute('ltp);">Add port mark</button>
		  <button id="bt_ltsmark"  style="width:130px; text-align:left;" onclick="setRoute('lts');">Add stbd mark</button>
		</div>
		<div id="infoBox" style="position:absolute; border: 4px solid #505056; border-radius:2px; background:#505056; width:200px; height:120px; display:none;">
		</div>
      </div>
    </div>
    <div class="row" style="color: #ffffff; background-color:#505056">
      <div class="col-3" style="font-size:80%">
		<div class="cell">
          <label>Stand:</label> <label id="lb_modelrun"></label>
		</div>

      </div>
      <div class="col-3">
		<div class="cell" style="font-size:80%">
		  Windskala 
		  <div class="colorbox" style="background-color:#0080ff;"> 0</div>
          <div class="colorbox" style="background-color:#00ffff;"> 1</div>
          <div class="colorbox" style="background-color:#00ffa0;"> 2</div>
          <div class="colorbox" style="background-color:#00cc00;"> 3</div>
          <div class="colorbox" style="background-color:#a0ff00;"> 4</div>
          <div class="colorbox" style="background-color:#ffff00;"> 5</div>
		  <div class="colorbox" style="background-color:#ffc000;"> 6</div>
          <div class="colorbox" style="background-color:#ff8000;"> 7</div>
          <div class="colorbox" style="background-color:#ff0000;"> 8</div>
          <div class="colorbox" style="background-color:#f00080;"> 9</div>
          <div class="colorbox" style="background-color:#d020ff;">10</div>
          <div class="colorbox" style="background-color:#8020ff;">11</div>
          <div class="colorbox" style="background-color:#0000ff;">12</div>
		  Beaufort
		</div>
      </div>
	  <div class="col-4">
	    <label id="lb_map_bounds" style="font-size:80%"></label>
	  </div>	
      <div class="col-2" style="font-size: 70%">
		<div class="cell">
		  &copy Michael Kappert 2017
		</div>
		<div class="cell">
		  <a href="https://github.com/mak08/PolarCL" target="_blank">powered by PolarCL</a>
		</div>
	  </div>
    </div>
  </body>

</html>
