<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitsailor Router FairWinds Edition</title>
    <meta name="description" content="Web UI">
    <meta name="author" content="Michael Kappert">
    <link rel="stylesheet" href="css/startpage.css">
    <script type="module" src="js/startpage.js"></script>
    
  </head>
  
  <body>

    <div class="container">

      <div class="fixed">

        <form action="https://www.paypal.com/donate" method="post" target="_top">
          <input type="hidden" name="hosted_button_id" value="DSTYB5K3BEQHJ">
          <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button">
        </form>
      </div>
      
      <div class="tabbed">	

        <input checked="checked" id="tab1" type="radio" name="tabs">
        <input id="tab2" type="radio" name="tabs">

        <!-- Keep placeholder radios to preserve nth-of-type mapping used by CSS tabs -->
        <input id="tab3" type="radio" name="tabs">
        <input id="tab4" type="radio" name="tabs">

        <input id="tab5" type="radio" name="tabs">
        <input id="tab6" type="radio" name="tabs">
        <nav>
          <label for="tab1">Home</label>
          <label for="tab2">Usage</label>
          <!-- No label for tab3/tab4 (Races removed) -->
          <label for="tab5">Issues</label>
          <label for="tab6">Status</label>
        </nav>

        <figure>
          
          <div class="tab1">

            <div class="home">
              <div class="welcome">
                <h2>Bitsailor is back!</h2>
                <p><b>Please join us on <a href="https://discord.gg/JU5ZKk2XYe">Discord</a></b></p>
                <p><b>Please find the <a href="router-fw.html">Router</a> page</b> <a href="router-fw.html" target=_blank><b>here</b></a></p>
              </div>
              <div class="content-pane"  id="area_news" style="font-size:90%">
                <h3>News</h3>
                <ul>
                  <li><b>2025-11-23</b><br>
                    Convenience: Load & save courses and settings<br>
                  </li>
                  <li><b>2025-11-01</b><br>
                    Restart<br>
                  </li>
                </ul>
              </div>
            </div>
            <div class="content-pane" style="font-size:67%;">
              <b>Disclaimer:</b> All content and services on this site are provided without warranty, implied or otherwise, of fitness for any particular purpose. Use entirely at your own risk.
              You shall be liable for any damages, losses or expenses of a third party caused by attempts to misuse the functions provided by this site.
              <address>
                &copy; 2021,2021-2025 <a href="mailto:michael.kappert@gmx.net" style="background-color:grey;">Michael Kappert</a>
              </address>

            </div>

          </div>

          <div class="tab2">

            <div class="content-pane"  style="font-size:90%">
              <h3>Usage</h3>
              Usage should be more or less self-explanatory.
                <ul>
                <li>Select the correct boat polars from the dropdown list</li>
                <li>Select the GFS resolution</li>
                <li>
                  Set start and destination by dragging the <img src="img/start_32x20.png" alt="start flag">start and <img src="img/finish_32x20.png" alt="finish flag">finish flags<br>
                  or right-click on the map to position them.<br>
                  The start position can also be set using NMEA, see below.
                </li>
                <li>
                  Tick the 'Start time' box to specify a start time, or leave it unchecked to use the current time.
                  Check if the start time is set correctly.
                </li>
                <li>
                  Select the maximum duration.
                  <p>
                    Long routing may take several minutes. <em><b>Please avoid frequent long routings.</b></em><br>
                    Short routings (up to 4 days) should only take a few seconds.
                  </p>
                </li>
                <li>
                  Press 'Execute'.<br>
                </li>
				</ul>

				<h3> GPX import</h3>
				Use this function to import a fairwinds.world race course. 
              
              <h3>NMEA</h3>
              <ol>
                <li>
                  Enter the NMEA host and port
                </li>
                <li>
                  Press 'Update' to acquire your boat position.
                  <p>
                    A popup is shown if a GPRMC message was successfully received. Click 'ok'.
                    The start flag will be moved to your boat position and the start time is set to the timestamp of the NMEA message.<br>
                    Observe the timestamp. <b>You may need to press 'Update' repeatedly</b> to receive the latest message.
                  </p>
                </li>
              </ol>
              <h3>TWA tool</h3>
              <ul>
                <li>
                  <p>
                    When routing is complete and the route is displayed, click on any waypoint to anchor the TWA tool on the waypoint.<br>
                    Click on the map to set a direction. The blue path represents a fixed heading.
                  </p>
                  <p style="font-size:80%">
                    Please note, during wind updates the TWA tool may attempt to use a forecast that is not yet available.
                    In this case, retry later or select the cycle manually using the 'Cycle' checkbox.
                  </p>
                </li>
              </ul>
              <h3>Isochrones and Waypoints</h3>
			  <ul><li>
              Clicking on an isochrone highlights it and sets the wind interpolation to the corresponding time.<br>
              Similarly clicking on a waypoint set the wind interpolation to the corresponding time,
				</li>
				<li>
			  <b style="color:red">Red</b> isochrones signal that the previous cycle was used - either because the current cycle is only used later, or because the forecast was not yet available.
			  </li></ul>

              <h3>Downloading route information</h3>
              Select the format (GPX or CSV) and press 'Download'.
              
            </div>
          </div>

          <!-- No .tab3/.tab4 content (Races removed) -->

          <div class="tab5">
            <div class="content-pane" style="font-size:90%;">
                <ul>

                <li><b>Route does not reach destination / seems wrong</b>
                  <p>
                    This may happen when wind conditions are unfavourable and the boat's tacking angle is large, or when there are too many obstructions in the area.<br>
                    You can usually work around this by moving the target behind or sideways from your actual destination.<br>
                  </p>
                </li>

                <li><b>Errors</b>
                  <p>
                    Error handling urgently needs to be improved.
                  </p>
                </li>

              </ul>
            </div>
          </div>

          <!-- Tab 6 (Status) - keep visibility controlled by tab CSS -->
          <div class="tab6">
  <div class="status-grid" style="display:grid; grid-template-columns:auto 1fr; align-items:start; column-gap:16px; row-gap:8px; width:100%;">
    <div class="status-label" style="display:flex; flex-direction:column; gap:8px; justify-content:flex-start;">
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Server start</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Last forecast downloaded</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Cached forecasts</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Routing requests last 10min</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Last routing stats</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Data source</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">Max isochrone points</label>
      <label style="display:inline-block; white-space:nowrap; padding:2px 6px; border:1px solid transparent; border-radius:4px; box-sizing:border-box;">TWA step size</label>
    </div>
    <div class="status-data" style="display:flex; flex-direction:column; gap:8px; align-items:flex-start;">
      <label id="tb_serverstart" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;">----</label>
      <label id="tb_forecasts" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;"></label>
      <label id="tb_fc_cache" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;"></label>
      <label id="tb_requests" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;">----</label>
      <label id="tb_last_routestats" style="background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:block; white-space:normal; max-width:100%;">-</label>
      <label id="tb_datasource" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;"></label>
      <label id="tb_max_iso_points" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;">-</label>
      <label id="tb_twa_steps" style="min-width:8em; background-color:#D0D0D0; padding:2px 6px; border:1px solid #C0C0C0; border-radius:4px; display:inline-block; white-space:nowrap;">-</label>
    </div>
  </div>
</div>

        </figure>	
        
      </div>
    </div>
  </body>
</html>
